<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with Modeltime H2O • modeltime.h2o</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with Modeltime H2O">
<meta property="og:description" content="modeltime.h2o">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modeltime.h2o</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting-started.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Forecasting</li>
    <li>
      <a href="../articles/getting-started.html">Getting Started with Modeltime</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">API Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/business-science/modeltime">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting-started_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with Modeltime H2O</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/business-science/modeltime.h2o/blob/master/vignettes/getting-started.Rmd"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<p><img src="logo.png" width="147" height="170" align="right"></p>
<p>Forecasting with <code>modeltime.h2o</code> made easy! This short tutorial shows how you can use:</p>
<ul>
<li><p><strong>H2O AutoML</strong> for forecasting implemented via <code><a href="../reference/automl_reg.html">automl_reg()</a></code>. This function trains and cross-validates multiple machine learning and deep learning models (XGBoost GBM, GLMs, Random Forest, GBMs…) and then trains two Stacked Ensembled models, one of all the models, and one of only the best models of each kind. Finally, the best model is selected based on a stopping metric. And we take care of all this for you!</p></li>
<li><p><strong>Save &amp; Load Models</strong> functionality to ensure the persistence of your models.</p></li>
</ul>
<div id="libraries" class="section level2">
<h2 class="hasAnchor">
<a href="#libraries" class="anchor"></a>Libraries</h2>
<p>Load the following librearies:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org">tidymodels</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/modeltime.h2o">modeltime.h2o</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/timetk">timetk</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="collect-data-and-split-into-training-and-test-sets" class="section level2">
<h2 class="hasAnchor">
<a href="#collect-data-and-split-into-training-and-test-sets" class="anchor"></a>Collect data and split into training and test sets</h2>
<p>Next, we load the walmart_sales_weekly data containing 7 time series and visualize them using the <code><a href="https://rdrr.io/pkg/timetk/man/plot_time_series.html">timetk::plot_time_series()</a></code> function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_tbl</span> <span class="op">&lt;-</span> <span class="va">walmart_sales_weekly</span> <span class="op">%&gt;%</span>
    <span class="fu">select</span><span class="op">(</span><span class="va">id</span>, <span class="va">Date</span>, <span class="va">Weekly_Sales</span><span class="op">)</span>

<span class="va">data_tbl</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/timetk/man/plot_time_series.html">plot_time_series</a></span><span class="op">(</span>
      .date_var    <span class="op">=</span> <span class="va">Date</span>,
      .value       <span class="op">=</span> <span class="va">Weekly_Sales</span>,
      .facet_ncol  <span class="op">=</span> <span class="fl">2</span>,
      .smooth      <span class="op">=</span> <span class="cn">F</span>,
      .interactive <span class="op">=</span> <span class="cn">F</span>
  <span class="op">)</span></code></pre></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-3-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>Then, we separate the data with the <code>initial_time_split()</code> function and generate a training dataset and a test one.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">splits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/timetk/man/time_series_split.html">time_series_split</a></span><span class="op">(</span><span class="va">data_tbl</span>, assess <span class="op">=</span> <span class="st">"3 month"</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">recipe_spec</span> <span class="op">&lt;-</span> <span class="fu">recipe</span><span class="op">(</span><span class="va">Weekly_Sales</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="fu">training</span><span class="op">(</span><span class="va">splits</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/pkg/timetk/man/step_timeseries_signature.html">step_timeseries_signature</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span> 

<span class="va">train_tbl</span> <span class="op">&lt;-</span> <span class="fu">training</span><span class="op">(</span><span class="va">splits</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">bake</span><span class="op">(</span><span class="fu">prep</span><span class="op">(</span><span class="va">recipe_spec</span><span class="op">)</span>, <span class="va">.</span><span class="op">)</span>
<span class="va">test_tbl</span>  <span class="op">&lt;-</span> <span class="fu">testing</span><span class="op">(</span><span class="va">splits</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">bake</span><span class="op">(</span><span class="fu">prep</span><span class="op">(</span><span class="va">recipe_spec</span><span class="op">)</span>, <span class="va">.</span><span class="op">)</span></code></pre></div>
</div>
<div id="model-specification-training-and-prediction" class="section level2">
<h2 class="hasAnchor">
<a href="#model-specification-training-and-prediction" class="anchor"></a>Model specification, training and prediction</h2>
<p>In order to correctly use modeltime.h2o, it is necessary to connect to an H2O cluster through the h2o.init() function. You can find more information on how to set up the cluster by typing ?h2o.init or by visiting the <a href="https://docs.h2o.ai/h2o/latest-stable/h2o-docs/starting-h2o.html">official site</a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/h2o/man/h2o.init.html">h2o.init</a></span><span class="op">(</span>
    nthreads <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,
    ip       <span class="op">=</span> <span class="st">'localhost'</span>,
    port     <span class="op">=</span> <span class="fl">54321</span>
<span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; H2O is not running yet, starting it now...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Note:  In case of errors look at the following log files:</span>
<span class="co">#&gt;     /tmp/RtmpX6YemH/file44b6855ee52/h2o_runner_started_from_r.out</span>
<span class="co">#&gt;     /tmp/RtmpX6YemH/file44b6563da7d8/h2o_runner_started_from_r.err</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Starting H2O JVM and connecting: .... Connection successful!</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; R is connected to the H2O cluster: </span>
<span class="co">#&gt;     H2O cluster uptime:         2 seconds 800 milliseconds </span>
<span class="co">#&gt;     H2O cluster timezone:       UTC </span>
<span class="co">#&gt;     H2O data parsing timezone:  UTC </span>
<span class="co">#&gt;     H2O cluster version:        3.32.0.1 </span>
<span class="co">#&gt;     H2O cluster version age:    5 months and 6 days !!! </span>
<span class="co">#&gt;     H2O cluster name:           H2O_started_from_R_runner_nzs383 </span>
<span class="co">#&gt;     H2O cluster total nodes:    1 </span>
<span class="co">#&gt;     H2O cluster total memory:   1.51 GB </span>
<span class="co">#&gt;     H2O cluster total cores:    2 </span>
<span class="co">#&gt;     H2O cluster allowed cores:  2 </span>
<span class="co">#&gt;     H2O cluster healthy:        TRUE </span>
<span class="co">#&gt;     H2O Connection ip:          localhost </span>
<span class="co">#&gt;     H2O Connection port:        54321 </span>
<span class="co">#&gt;     H2O Connection proxy:       NA </span>
<span class="co">#&gt;     H2O Internal Security:      FALSE </span>
<span class="co">#&gt;     H2O API Extensions:         Amazon S3, XGBoost, Algos, AutoML, Core V3, TargetEncoder, Core V4 </span>
<span class="co">#&gt;     R Version:                  R version 4.0.4 (2021-02-15)</span></code></pre></div>
<p>Now comes the fun part! We define our model specification with the <code><a href="../reference/automl_reg.html">automl_reg()</a></code> function and pass the arguments through the engine:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/automl_reg.html">automl_reg</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">'regression'</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">set_engine</span><span class="op">(</span>
         engine                     <span class="op">=</span> <span class="st">'h2o'</span>,
         max_runtime_secs           <span class="op">=</span> <span class="fl">5</span>, 
         max_runtime_secs_per_model <span class="op">=</span> <span class="fl">3</span>,
         max_models                 <span class="op">=</span> <span class="fl">3</span>,
         nfolds                     <span class="op">=</span> <span class="fl">5</span>,
         exclude_algos              <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"DeepLearning"</span><span class="op">)</span>,
         verbosity                  <span class="op">=</span> <span class="cn">NULL</span>,
         seed                       <span class="op">=</span> <span class="fl">786</span>
    <span class="op">)</span> 

<span class="va">model_spec</span>
<span class="co">#&gt; H2O AutoML Model Specification (regression)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Engine-Specific Arguments:</span>
<span class="co">#&gt;   max_runtime_secs = 5</span>
<span class="co">#&gt;   max_runtime_secs_per_model = 3</span>
<span class="co">#&gt;   max_models = 3</span>
<span class="co">#&gt;   nfolds = 5</span>
<span class="co">#&gt;   exclude_algos = c("DeepLearning")</span>
<span class="co">#&gt;   verbosity = NULL</span>
<span class="co">#&gt;   seed = 786</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Computational engine: h2o</span></code></pre></div>
<p>Next, let’s train the model!</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>model_fitted &lt;-<span class="st"> </span>model_spec <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">    </span><span class="kw">fit</span>(Weekly_Sales <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> train_tbl)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; </span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; </span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="st">  </span><span class="er">|===</span><span class="st">                                                                   </span><span class="er">|</span><span class="st">   </span><span class="dv">5</span>%</span>
<span id="cb6-13"><a href="#cb6-13"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="st">  </span><span class="er">|==================</span><span class="st">                                                    </span><span class="er">|</span><span class="st">  </span><span class="dv">25</span>%</span>
<span id="cb6-15"><a href="#cb6-15"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="st">  </span><span class="er">|================================</span><span class="st">                                      </span><span class="er">|</span><span class="st">  </span><span class="dv">46</span>%</span>
<span id="cb6-17"><a href="#cb6-17"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="st">  </span><span class="er">|==============================================</span><span class="st">                        </span><span class="er">|</span><span class="st">  </span><span class="dv">66</span>%</span>
<span id="cb6-19"><a href="#cb6-19"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt; </span></span>
<span id="cb6-22"><a href="#cb6-22"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb6-24"><a href="#cb6-24"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">#&gt;                                           model_id mean_residual_deviance</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="co">#&gt; 1 StackedEnsemble_AllModels_AutoML_20210314_215223              386531186</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co">#&gt; 2                 XGBoost_2_AutoML_20210314_215223              774274696</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="co">#&gt; 3                 XGBoost_3_AutoML_20210314_215223              816368892</span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="co">#&gt; 4                 XGBoost_1_AutoML_20210314_215223             1817098993</span></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">#&gt;       rmse        mse      mae     rmsle</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">#&gt; 1 19660.40  386531186 14937.70 0.4300007</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="co">#&gt; 2 27825.79  774274696 19014.82 0.6527556</span></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="co">#&gt; 3 28572.17  816368892 19963.71 0.6560465</span></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="co">#&gt; 4 42627.44 1817098993 32178.74 1.1009060</span></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co">#&gt; </span></span>
<span id="cb6-37"><a href="#cb6-37"></a><span class="co">#&gt; [4 rows x 6 columns]</span></span>
<span id="cb6-38"><a href="#cb6-38"></a></span>
<span id="cb6-39"><a href="#cb6-39"></a>model_fitted</span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co">#&gt; parsnip model object</span></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="co">#&gt; </span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="co">#&gt; Fit time:  13.1s </span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="co">#&gt; </span></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="co">#&gt; H2O AutoML - Stackedensemble</span></span>
<span id="cb6-45"><a href="#cb6-45"></a><span class="co">#&gt; --------</span></span>
<span id="cb6-46"><a href="#cb6-46"></a><span class="co">#&gt; Model: Model Details:</span></span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="co">#&gt; ==============</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="co">#&gt; </span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="co">#&gt; H2ORegressionModel: stackedensemble</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="co">#&gt; Model ID:  StackedEnsemble_AllModels_AutoML_20210314_215223 </span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="co">#&gt; Number of Base Models: 3</span></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="co">#&gt; </span></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="co">#&gt; Base Models (count by algorithm type):</span></span>
<span id="cb6-54"><a href="#cb6-54"></a><span class="co">#&gt; </span></span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="co">#&gt; xgboost </span></span>
<span id="cb6-56"><a href="#cb6-56"></a><span class="co">#&gt;       3 </span></span>
<span id="cb6-57"><a href="#cb6-57"></a><span class="co">#&gt; </span></span>
<span id="cb6-58"><a href="#cb6-58"></a><span class="co">#&gt; Metalearner:</span></span>
<span id="cb6-59"><a href="#cb6-59"></a><span class="co">#&gt; </span></span>
<span id="cb6-60"><a href="#cb6-60"></a><span class="co">#&gt; Metalearner algorithm: glm</span></span>
<span id="cb6-61"><a href="#cb6-61"></a><span class="co">#&gt; Metalearner cross-validation fold assignment:</span></span>
<span id="cb6-62"><a href="#cb6-62"></a><span class="co">#&gt;   Fold assignment scheme: AUTO</span></span>
<span id="cb6-63"><a href="#cb6-63"></a><span class="co">#&gt;   Number of folds: 5</span></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="co">#&gt;   Fold column: NULL</span></span>
<span id="cb6-65"><a href="#cb6-65"></a><span class="co">#&gt; Metalearner hyperparameters: </span></span>
<span id="cb6-66"><a href="#cb6-66"></a><span class="co">#&gt; </span></span>
<span id="cb6-67"><a href="#cb6-67"></a><span class="co">#&gt; </span></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="co">#&gt; H2ORegressionMetrics: stackedensemble</span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="co">#&gt; ** Reported on training data. **</span></span>
<span id="cb6-70"><a href="#cb6-70"></a><span class="co">#&gt; </span></span>
<span id="cb6-71"><a href="#cb6-71"></a><span class="co">#&gt; MSE:  164435219</span></span>
<span id="cb6-72"><a href="#cb6-72"></a><span class="co">#&gt; RMSE:  12823.23</span></span>
<span id="cb6-73"><a href="#cb6-73"></a><span class="co">#&gt; MAE:  10518.23</span></span>
<span id="cb6-74"><a href="#cb6-74"></a><span class="co">#&gt; RMSLE:  0.4178878</span></span>
<span id="cb6-75"><a href="#cb6-75"></a><span class="co">#&gt; Mean Residual Deviance :  164435219</span></span>
<span id="cb6-76"><a href="#cb6-76"></a><span class="co">#&gt; </span></span>
<span id="cb6-77"><a href="#cb6-77"></a><span class="co">#&gt; </span></span>
<span id="cb6-78"><a href="#cb6-78"></a><span class="co">#&gt; </span></span>
<span id="cb6-79"><a href="#cb6-79"></a><span class="co">#&gt; H2ORegressionMetrics: stackedensemble</span></span>
<span id="cb6-80"><a href="#cb6-80"></a><span class="co">#&gt; ** Reported on cross-validation data. **</span></span>
<span id="cb6-81"><a href="#cb6-81"></a><span class="co">#&gt; ** 5-fold cross-validation on training data (Metrics computed for combined holdout predictions) **</span></span>
<span id="cb6-82"><a href="#cb6-82"></a><span class="co">#&gt; </span></span>
<span id="cb6-83"><a href="#cb6-83"></a><span class="co">#&gt; MSE:  386531186</span></span>
<span id="cb6-84"><a href="#cb6-84"></a><span class="co">#&gt; RMSE:  19660.4</span></span>
<span id="cb6-85"><a href="#cb6-85"></a><span class="co">#&gt; MAE:  14937.7</span></span>
<span id="cb6-86"><a href="#cb6-86"></a><span class="co">#&gt; RMSLE:  0.4300007</span></span>
<span id="cb6-87"><a href="#cb6-87"></a><span class="co">#&gt; Mean Residual Deviance :  386531186</span></span></code></pre></div>
<p>Finally, we predict on the test dataset:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">predict</span>(model_fitted, test_tbl)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt; </span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; </span></span>
<span id="cb7-8"><a href="#cb7-8"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt; # A tibble: 84 x 1</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt;      .pred</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt;      &lt;dbl&gt;</span></span>
<span id="cb7-15"><a href="#cb7-15"></a><span class="co">#&gt;  1  27725.</span></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co">#&gt;  2  39179.</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#&gt;  3  40141.</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="co">#&gt;  4  45689.</span></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="co">#&gt;  5  73795.</span></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="co">#&gt;  6  66688.</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="co">#&gt;  7 102829.</span></span>
<span id="cb7-22"><a href="#cb7-22"></a><span class="co">#&gt;  8  27725.</span></span>
<span id="cb7-23"><a href="#cb7-23"></a><span class="co">#&gt;  9  39179.</span></span>
<span id="cb7-24"><a href="#cb7-24"></a><span class="co">#&gt; 10  40141.</span></span>
<span id="cb7-25"><a href="#cb7-25"></a><span class="co">#&gt; # … with 74 more rows</span></span></code></pre></div>
</div>
<div id="modeltime-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#modeltime-workflow" class="anchor"></a>Modeltime Workflow</h2>
<p>Once we have our fitted model, we can follow the modeltime workflow from step 3:</p>
<ul>
<li><p>Add fitted models to a <strong>Model Table</strong>.</p></li>
<li><p><strong>Calibrate</strong> the models to a testing set.</p></li>
<li><p>Perform Testing Set Forecast &amp; Accuracy Evaluation.</p></li>
<li><p><strong>Refit</strong> the models to Full Dataset &amp; Forecast Forward</p></li>
</ul>
</div>
<div id="add-fitted-models-to-a-model-table" class="section level2">
<h2 class="hasAnchor">
<a href="#add-fitted-models-to-a-model-table" class="anchor"></a>Add fitted models to a Model Table</h2>
<p>First, we create the model table:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">modeltime_tbl</span> <span class="op">&lt;-</span> <span class="fu">modeltime_table</span><span class="op">(</span>
    <span class="va">model_fitted</span>
<span class="op">)</span> 

<span class="va">modeltime_tbl</span>
<span class="co">#&gt; # Modeltime Table</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   .model_id .model   .model_desc                 </span>
<span class="co">#&gt;       &lt;int&gt; &lt;list&gt;   &lt;chr&gt;                       </span>
<span class="co">#&gt; 1         1 &lt;fit[+]&gt; H2O AUTOML - STACKEDENSEMBLE</span></code></pre></div>
</div>
<div id="calibrate-testing-set-forecast-accuracy-evaluation" class="section level2">
<h2 class="hasAnchor">
<a href="#calibrate-testing-set-forecast-accuracy-evaluation" class="anchor"></a>Calibrate &amp; Testing Set Forecast &amp; Accuracy Evaluation</h2>
<p>Next, we calibrate to the testing set and visualize the forecasts:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>modeltime_tbl <span class="op">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span><span class="kw">modeltime_calibrate</span>(test_tbl) <span class="op">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">    </span><span class="kw">modeltime_forecast</span>(</span>
<span id="cb9-4"><a href="#cb9-4"></a>        <span class="dt">new_data    =</span> test_tbl,</span>
<span id="cb9-5"><a href="#cb9-5"></a>        <span class="dt">actual_data =</span> data_tbl,</span>
<span id="cb9-6"><a href="#cb9-6"></a>        <span class="dt">keep_data   =</span> <span class="ot">TRUE</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>    ) <span class="op">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="st">    </span><span class="kw">group_by</span>(id) <span class="op">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="st">    </span><span class="kw">plot_modeltime_forecast</span>(</span>
<span id="cb9-10"><a href="#cb9-10"></a>        <span class="dt">.facet_ncol =</span> <span class="dv">2</span>, </span>
<span id="cb9-11"><a href="#cb9-11"></a>        <span class="dt">.interactive =</span> <span class="ot">FALSE</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>    )</span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; </span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#&gt; </span></span>
<span id="cb9-19"><a href="#cb9-19"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb9-21"><a href="#cb9-21"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-22"><a href="#cb9-22"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="co">#&gt; </span></span>
<span id="cb9-24"><a href="#cb9-24"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-25"><a href="#cb9-25"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb9-26"><a href="#cb9-26"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb9-28"><a href="#cb9-28"></a><span class="co">#&gt; </span></span>
<span id="cb9-29"><a href="#cb9-29"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-30"><a href="#cb9-30"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb9-31"><a href="#cb9-31"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb9-32"><a href="#cb9-32"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span></code></pre></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div id="refit-to-full-dataset-forecast-forward" class="section level2">
<h2 class="hasAnchor">
<a href="#refit-to-full-dataset-forecast-forward" class="anchor"></a>Refit to Full Dataset &amp; Forecast Forward</h2>
<p>Before using <strong>refit</strong> on our dataset, let’s prepare our data. We create <code>data_prepared_tbl</code> which represents the complete dataset (the union of train and test) with the variables created with the recipe named recipe_spec. Subsequently, we create the dataset <code>future_prepared_tbl</code> that represents the dataset with the future data to one year and the required variables.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_prepared_tbl</span> <span class="op">&lt;-</span> <span class="fu">bind_rows</span><span class="op">(</span><span class="va">train_tbl</span>, <span class="va">test_tbl</span><span class="op">)</span>

<span class="va">future_tbl</span> <span class="op">&lt;-</span> <span class="va">data_prepared_tbl</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/pkg/timetk/man/future_frame.html">future_frame</a></span><span class="op">(</span>.length_out <span class="op">=</span> <span class="st">"1 year"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span>

<span class="va">future_prepared_tbl</span> <span class="op">&lt;-</span> <span class="fu">bake</span><span class="op">(</span><span class="fu">prep</span><span class="op">(</span><span class="va">recipe_spec</span><span class="op">)</span>, <span class="va">future_tbl</span><span class="op">)</span></code></pre></div>
<p>Finally, we use forecast in our future dataset and visualize the results once we had reffited.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>refit_tbl &lt;-<span class="st"> </span>modeltime_tbl <span class="op">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">    </span><span class="kw">modeltime_refit</span>(data_prepared_tbl)</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt; </span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt; </span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb11-11"><a href="#cb11-11"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="st">  </span><span class="er">|==</span><span class="st">                                                                    </span><span class="er">|</span><span class="st">   </span><span class="dv">3</span>%</span>
<span id="cb11-13"><a href="#cb11-13"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="st">  </span><span class="er">|=================</span><span class="st">                                                     </span><span class="er">|</span><span class="st">  </span><span class="dv">24</span>%</span>
<span id="cb11-15"><a href="#cb11-15"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="st">  </span><span class="er">|===============================</span><span class="st">                                       </span><span class="er">|</span><span class="st">  </span><span class="dv">44</span>%</span>
<span id="cb11-17"><a href="#cb11-17"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="st">  </span><span class="er">|=============================================</span><span class="st">                         </span><span class="er">|</span><span class="st">  </span><span class="dv">64</span>%</span>
<span id="cb11-19"><a href="#cb11-19"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">#&gt; </span></span>
<span id="cb11-22"><a href="#cb11-22"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb11-24"><a href="#cb11-24"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb11-26"><a href="#cb11-26"></a><span class="co">#&gt;                                           model_id mean_residual_deviance</span></span>
<span id="cb11-27"><a href="#cb11-27"></a><span class="co">#&gt; 1 StackedEnsemble_AllModels_AutoML_20210314_215241              205010876</span></span>
<span id="cb11-28"><a href="#cb11-28"></a><span class="co">#&gt; 2                 XGBoost_3_AutoML_20210314_215241             1432960432</span></span>
<span id="cb11-29"><a href="#cb11-29"></a><span class="co">#&gt; 3                 XGBoost_2_AutoML_20210314_215241             1802082476</span></span>
<span id="cb11-30"><a href="#cb11-30"></a><span class="co">#&gt; 4                 XGBoost_1_AutoML_20210314_215241             2261584439</span></span>
<span id="cb11-31"><a href="#cb11-31"></a><span class="co">#&gt;       rmse        mse       mae     rmsle</span></span>
<span id="cb11-32"><a href="#cb11-32"></a><span class="co">#&gt; 1 14318.20  205010876  9548.185 0.2207454</span></span>
<span id="cb11-33"><a href="#cb11-33"></a><span class="co">#&gt; 2 37854.46 1432960432 27916.280 0.9543609</span></span>
<span id="cb11-34"><a href="#cb11-34"></a><span class="co">#&gt; 3 42450.94 1802082476 32777.797 1.0998055</span></span>
<span id="cb11-35"><a href="#cb11-35"></a><span class="co">#&gt; 4 47556.12 2261584439 38597.183 1.2282724</span></span>
<span id="cb11-36"><a href="#cb11-36"></a><span class="co">#&gt; </span></span>
<span id="cb11-37"><a href="#cb11-37"></a><span class="co">#&gt; [4 rows x 6 columns]</span></span>
<span id="cb11-38"><a href="#cb11-38"></a></span>
<span id="cb11-39"><a href="#cb11-39"></a>refit_tbl <span class="op">%&gt;%</span></span>
<span id="cb11-40"><a href="#cb11-40"></a><span class="st">    </span><span class="kw">modeltime_forecast</span>(</span>
<span id="cb11-41"><a href="#cb11-41"></a>        <span class="dt">new_data    =</span> future_prepared_tbl,</span>
<span id="cb11-42"><a href="#cb11-42"></a>        <span class="dt">actual_data =</span> data_prepared_tbl,</span>
<span id="cb11-43"><a href="#cb11-43"></a>        <span class="dt">keep_data   =</span> <span class="ot">TRUE</span></span>
<span id="cb11-44"><a href="#cb11-44"></a>    ) <span class="op">%&gt;%</span></span>
<span id="cb11-45"><a href="#cb11-45"></a><span class="st">    </span><span class="kw">group_by</span>(id) <span class="op">%&gt;%</span></span>
<span id="cb11-46"><a href="#cb11-46"></a><span class="st">    </span><span class="kw">plot_modeltime_forecast</span>(</span>
<span id="cb11-47"><a href="#cb11-47"></a>        <span class="dt">.facet_ncol  =</span> <span class="dv">2</span>,</span>
<span id="cb11-48"><a href="#cb11-48"></a>        <span class="dt">.interactive =</span> <span class="ot">FALSE</span></span>
<span id="cb11-49"><a href="#cb11-49"></a>    )</span>
<span id="cb11-50"><a href="#cb11-50"></a><span class="co">#&gt; </span></span>
<span id="cb11-51"><a href="#cb11-51"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-52"><a href="#cb11-52"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb11-53"><a href="#cb11-53"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-54"><a href="#cb11-54"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span>
<span id="cb11-55"><a href="#cb11-55"></a><span class="co">#&gt; </span></span>
<span id="cb11-56"><a href="#cb11-56"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-57"><a href="#cb11-57"></a><span class="st">  </span><span class="er">|</span><span class="st">                                                                      </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</span>
<span id="cb11-58"><a href="#cb11-58"></a>  <span class="op">|</span><span class="st">                                                                            </span></span>
<span id="cb11-59"><a href="#cb11-59"></a><span class="st">  </span><span class="er">|======================================================================|</span><span class="st"> </span><span class="dv">100</span>%</span></code></pre></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-12-1.png" width="100%" style="display: block; margin: auto;"></p>
<p>We can likely do better than this if we train longer but really good for a quick example!</p>
</div>
<div id="saving-and-loading-models" class="section level2">
<h2 class="hasAnchor">
<a href="#saving-and-loading-models" class="anchor"></a>Saving and Loading Models</h2>
<p>H2O models will need to “serialized” (a fancy word for saved to a directory that contains the recipe for recreating the models). To save the models, use <code><a href="../reference/save_h2o_model.html">save_h2o_model()</a></code>.</p>
<ul>
<li>Provide a directory where you want to save the model.</li>
<li>This saves the model file in the directory.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_fitted</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/save_h2o_model.html">save_h2o_model</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"../model_fitted"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>You can reload the model into R using <code><a href="../reference/save_h2o_model.html">load_h2o_model()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_h2o</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_h2o_model.html">load_h2o_model</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"../model_fitted/"</span><span class="op">)</span></code></pre></div>
</div>
<div id="learning-more" class="section level2">
<h2 class="hasAnchor">
<a href="#learning-more" class="anchor"></a>Learning More</h2>
<p>
<iframe width="100%" height="450" src="https://www.youtube.com/embed/elQb4VzRINg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="box-shadow: 0 0 5px 2px rgba(0, 0, 0, .5);">
</iframe>
</p>
<p><em>My Talk on High-Performance Time Series Forecasting</em></p>
<p>Time series is changing. <strong>Businesses now need 10,000+ time series forecasts every day.</strong> This is what I call a <em>High-Performance Time Series Forecasting System (HPTSF)</em> - Accurate, Robust, and Scalable Forecasting.</p>
<p>You need to provide a “High-Performance Time Series Forecasting System” (HPTSF System). <strong>High-Performance Forecasting Systems will save companies MILLIONS of dollars.</strong></p>
<p>I teach how to build a HPTFS System in my <strong>High-Performance Time Series Forecasting Course</strong>. If interested in learning Scalable High-Performance Forecasting Strategies then <a href="https://university.business-science.io/p/ds4b-203-r-high-performance-time-series-forecasting">take my course</a>. You will learn:</p>
<ul>
<li>Time Series Machine Learning (cutting-edge) with <code>Modeltime</code> - 30+ Models (Prophet, ARIMA, XGBoost, Random Forest, &amp; many more)</li>
<li>NEW - Deep Learning with <code>GluonTS</code> (Competition Winners)</li>
<li>Time Series Preprocessing, Noise Reduction, &amp; Anomaly Detection</li>
<li>Feature engineering using lagged variables &amp; external regressors</li>
<li>Hyperparameter Tuning</li>
<li>Time series cross-validation</li>
<li>Ensembling Multiple Machine Learning &amp; Univariate Modeling Techniques (Competition Winner)</li>
<li>Scalable Forecasting - Forecast 1000+ time series in parallel</li>
<li>and more.</li>
</ul>
<p class="text-center" style="font-size:30px;">
</p>
<p><a href="https://university.business-science.io/p/ds4b-203-r-high-performance-time-series-forecasting">Unlock the High-Performance Time Series Forecasting Course</a></p>

</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
